<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İhale Portalı | Akıllı Görsel Sistemi</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --primary: #0052cc;
            --gradient: linear-gradient(135deg, #0052cc 0%, #00b8d9 100%);
            --dark: #091e42;
            --bg: #f8f9fc;
            --white: #ffffff;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg);
            margin: 0;
            color: #172b4d;
        }

        /* --- HEADER --- */
        .header {
            background: var(--gradient);
            color: white;
            padding: 60px 20px 100px;
            text-align: center;
            clip-path: polygon(0 0, 100% 0, 100% 90%, 0% 100%);
        }

        /* --- ANA KONTEYNER --- */
        .container {
            display: grid;
            grid-template-columns: 2.5fr 1fr;
            gap: 30px;
            max-width: 1200px;
            margin: -40px auto 100px;
            padding: 0 20px;
        }

        /* --- İHALE KARTLARI (ULTRA MODERN) --- */
        .ihale-card {
            background: var(--white);
            border-radius: 20px;
            margin-bottom: 25px;
            display: flex;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
            border: 1px solid #eee;
            transition: 0.3s;
        }
        .ihale-card:hover { transform: translateY(-5px); box-shadow: 0 20px 50px rgba(0,0,0,0.1); }

        .card-image {
            width: 180px;
            background-size: cover;
            background-position: center;
            border-right: 1px solid #f0f2f5;
        }

        .card-body { padding: 25px; flex: 1; position: relative; }
        
        .badge {
            position: absolute; top: 20px; right: 20px;
            padding: 4px 12px; border-radius: 50px; font-size: 10px; font-weight: 800;
        }
        .badge.open { background: #e3fcef; color: #006644; }
        .badge.closing { background: #ffebe6; color: #bf2600; }

        .ihale-card h3 { margin: 10px 0; color: var(--dark); font-size: 1.3rem; }
        .info-row { display: flex; align-items: center; gap: 10px; color: #505f79; font-size: 0.9rem; margin-bottom: 5px; }
        .info-row i { color: var(--primary); }

        .btn-detay {
            background: var(--primary); color: white; padding: 10px 20px;
            border-radius: 8px; text-decoration: none; font-weight: 700;
            display: inline-block; margin-top: 15px;
        }

        /* --- SAĞ PANEL --- */
        .sidebar { background: #fff; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.03); height: fit-content; position: sticky; top: 20px; }
        .sidebar h3 { margin-top: 0; }
        .sidebar input, .sidebar select { width: 100%; padding: 12px; border-radius: 8px; border: 2px solid #f4f5f7; margin-bottom: 15px; }
    </style>
</head>
<body>

    <header class="header">
        <h1>İHALE MERKEZİ</h1>
        <p>Sektöre Özel Akıllı Takip Sistemi</p>
    </header>

    <div class="container">
        <main id="ihale-container">
            </main>

        <aside class="sidebar">
            <h3><i class="fas fa-search"></i> Hızlı Bul</h3>
            <input type="text" id="aramaInput" placeholder="Kelime girin..." oninput="filtrele()">
            <select id="sektorSelect" onchange="filtrele()">
                <option value="all">Tüm Sektörler</option>
                <option value="insaat">İnşaat / Yapım</option>
                <option value="hizmet">Hizmet Alımı</option>
                <option value="teknoloji">Teknoloji</option>
            </select>
        </aside>
    </div>

    <script>
        // SEKTÖRE GÖRE RESİM EŞLEŞTİRME KÜTÜPHANESİ
        const sektorResimleri = {
            insaat: "https://images.unsplash.com/photo-1541888946425-d81bb19480c5?auto=format&fit=crop&w=300&q=80",
            hizmet: "https://images.unsplash.com/photo-1558905619-172542632462?auto=format&fit=crop&w=300&q=80",
            teknoloji: "https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=300&q=80",
            mal: "https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=300&q=80",
            default: "https://images.unsplash.com/photo-1450101499163-c8848c66ca85?auto=format&fit=crop&w=300&q=80"
        };

        async function ihaleleriGetir() {
            const container = document.getElementById('ihale-container');
            try {
                const response = await fetch('ihaleler.json');
                const ihaleler = await response.json();
                
                container.innerHTML = ihaleler.map(ihale => {
                    // Sektöre uygun resmi seçiyoruz, yoksa varsayılanı kullanıyoruz
                    const resimUrl = sektorResimleri[ihale.sektor] || sektorResimleri.default;

                    return `
                        <div class="ihale-card" data-sektor="${ihale.sektor}">
                            <div class="card-image" style="background-image: url('${resimUrl}')"></div>
                            <div class="card-body">
                                <span class="badge ${ihale.durum}">${ihale.durumMetni}</span>
                                <h3>${ihale.baslik}</h3>
                                <div class="info-row"><i class="fas fa-university"></i> <strong>Kurum:</strong> ${ihale.kurum}</div>
                                <div class="info-row"><i class="fas fa-calendar-alt"></i> <strong>Tarih:</strong> ${ihale.tarih}</div>
                                <a href="#" class="btn-detay">Detayları Gör <i class="fas fa-arrow-right"></i></a>
                            </div>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                container.innerHTML = "<p>Veriler yüklenirken bir hata oluştu.</p>";
            }
        }

        function filtrele() {
            const arama = document.getElementById('aramaInput').value.toLowerCase();
            const sektor = document.getElementById('sektorSelect').value;
            const kartlar = document.querySelectorAll('.ihale-card');

            kartlar.forEach(kart => {
                const metin = kart.innerText.toLowerCase();
                const kartSektoru = kart.getAttribute('data-sektor');
                
                const aramaUygun = metin.includes(arama);
                const sektorUygun = sektor === "all" || kartSektoru === sektor;

                kart.style.display = (aramaUygun && sektorUygun) ? "flex" : "none";
            });
        }

        window.onload = ihaleleriGetir;
    </script>
</body><div id="detayModal" class="modal">
    <div class="modal-icerik">
        <span class="kapat-btn" onclick="modalKapat()">&times;</span>
        <div id="modal-govde">
            </div>
    </div>
</div>
</html>